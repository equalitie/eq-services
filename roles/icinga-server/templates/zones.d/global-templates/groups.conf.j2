// {{ansible_managed}}

object HostGroup "linux-servers" {
  display_name = "Linux Servers"
  assign where host.vars.os == "Linux"
}

object HostGroup "deflect-edges" {
  display_name = "Deflect Edges"
  assign where (host.vars.edge)
}

object HostGroup "deflect-controller" {
  display_name = "Deflect Controller"
  assign where (host.vars.dcontroller)
}

object HostGroup "cityhall" {
  display_name = "Cityhall Controller"
  assign where (host.vars.citycontroller)
}

/**
 * Service group.
 */

object ServiceGroup "ping" {
  display_name = "Ping Checks"
  assign where match("ping*", service.name)
}

object ServiceGroup "http" {
  display_name = "HTTP Checks"
  assign where match("http*", service.check_command)
}

object ServiceGroup "disk" {
  display_name = "Disk Checks"
  assign where match("disk*", service.check_command)
}
